<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/error2.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Cloudy PRO</title>
</head>

<body onload="setDefaultCelsius()">
<nav>
        <div class="logo">
            <h1>Cloudy-Pro</h1>
            <div class="menu">
                <ul>
 
                    <li>
                        <div class="search-container">
                            <input type="text" id="searchInput" placeholder="Search location..." />
                            <i class="fas fa-search" id="searchIcon"></i>
                            <i class="fas fa-times" id="cancelIcon"></i>
                        </div>
                    </li>
                    <li class="togg">
                        <div class="dropdown">
                            <button class="dropbtn" id="tempToggle">°C ▿</button>
                            <div class="dropdown-content">
                                <a href="#" onclick="setDefaultCelsius()">°C</a>
                                <a href="#" onclick="setDefaultFahrenheit()">°F</a>
                            </div>
                        </div>
                    </li>
                    <li><a href="index.html" style="border-bottom: 1px solid white; padding-bottom: 8px;">Home</a></li>
                    <li><a href="ContactUs.html">Contact Us</a></li>
                    <li><a href="about-us.html">About us</a></li>
 
                </ul>
            </div>
            <img src="images/menu.svg" alt="menu">
        </div>
 
    </nav>

    <div class="over-all">
        <main class="main-layout">
            <section class="main-con">
                <div class="first-con">
                    <div class="con-details">
                        <h1 id="location">Loading...</h1>
                        <p id="daydesc">Loading...</p>
                        <h3 id="day1min">Loading...</h3>
                    </div>
                    <div class="con-image">
                        <img id="icon" alt="Weather Icon">
                    </div>
                </div>
                <div class="second-con">
                    <p>AIR CONDITIONS</p>
                    <div class="conditions">
                        <div class="feel">
                            <i class="fa-solid fa-temperature-arrow-up"> FEELS LIKE</i>
                            <h6 id="feelslike">Loading...</h6>
                        </div>
                        <div class="feel">
                            <i class="fa-solid fa-wind"> WIND SPEED</i>
                            <h6 id="windspeed">Loading...</h6>
                        </div>
                        <div id="datetime" class="datetime"></div>
                    </div>
                </div>
            </section>
            <section class="forcast">
                <h6>TODAY'S FORECAST</h6>
                <div class="fc" id="hourly-forecast">
                    
                </div>
            </section>
        </main>
        <aside class="daily-fc" id="weatherfocus-column">
        
        </aside>
    </div>
    <div class="chart">
        <div class="c-con">
        <h6>TODAY'S CHART</h6>
        <div class="tc">
            <canvas id="todayChart"></canvas>
        </div>
    </div>
    </div>
    <footer>
        <div class="over-all-footer">
            <div class="contact">
                <li><h6>Contact Info</h6></li>
                <li><a href="#">
                    Address: 123 Strasse, Potsdam, Germany
                </a></li>
                <li><a href="#">
                    Phone Number: +49 123 12345678
                </a></li>
                <li><a href="#">
                    DevTeam@ue-germany.de
                </a></li>
            </div>
            <div class="footer-menu">
                <li><h6>Quick Links</h6></li>
                <li><a href="index.html">Home</a></li>
                <li><a href="ContactUs.html">Contact Us</a></li>
                <li><a href="about-us.html">About Us</a></li>
            </div>
            <div class="news-letter">
                <li><h6>Subscribe</h6></li>
                <li><div class="email-feild">
                    <input type="email">
                    <i class="fa-regular fa-paper-plane"></i>
                </div></li>
                <li><p>Subscribe to our newletter</p></li>
            </div>
        </div>
        <p>Copyright © 2024 DevTeam UE. All Right Reserved.</p>
    </footer>

    
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/script.js"></script>


</body>
<script>

    document.getElementById('searchIcon').onclick = function() {  //when user pressed the icon
       
        const locationInput = document.getElementById('searchInput').value; //"New York"; 

        if (!locationInput){
            showCustomAlert('Enter city name');
            return;
        }
    
        window.location.href = 'search.html?q=' + encodeURIComponent(locationInput);  //good practice
        
    };

    document.getElementById('searchInput').addEventListener('keypress', function(event) {  //checking for enter pressed
    if (event.key === 'Enter') {
        const locationInput = document.getElementById('searchInput').value;

        if (!locationInput) {
            showCustomAlert('Enter city name');
            return;
        }

        window.location.href = 'search.html?q=' + encodeURIComponent(locationInput);  //passing to js
    }
});
    
   
    function setDefaultCelsius() {
    document.getElementById("tempToggle").innerHTML = "°C ▿";   
    locationFunction1()
    
}

function setDefaultFahrenheit() {
    document.getElementById("tempToggle").innerHTML = "°F ▿";
    locationFunction2()
}


function showCustomAlert(message) {      //our alert box
    const alert = document.createElement('div');
    const alertButton = document.createElement('button');
    alertButton.innerText = 'OK';
    alert.classList.add('alert');
    alert.setAttribute('style', `
        position: fixed;
        top: 100px;
        left: 50%;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 10px 5px 0 #00000022;
        display: flex;
        flex-direction: column;
        border: 1px solid #fff;
        background: #1F212C;
        transform: translateX(-50%);
    `);
    alertButton.setAttribute('style', `
        border: 1px solid #333;
        background: #f59a28;
        border-radius: 5px;
        padding: 5px;
        margin-top: 10px;
    `);
    alert.innerHTML = `<span style="padding:10px">${message}</span>`;   //message will be printed out
    alert.appendChild(alertButton);
    alertButton.addEventListener('click', () => {
        alert.remove();
    });
    document.body.appendChild(alert);
}


</script>
</html>
